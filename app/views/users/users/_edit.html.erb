<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3 py-3">
      <br>

      <%= form_with(model: current_user, method: "put", local: true ) do |f|%>
      <h1 class="h3 mb-3 font-weight-normal text-center text-success border-bottom pb-3">Modification du profil</h1>

      <div class="row mt-5 mb-3">
        <div class="col">
          <%= f.text_field :first_name, value: current_user.first_name,required: true, autofocus: true, autocomplete: "first_name", class: "form-control", placeholder: "Prénom" %>
        </div>

        <div class="col">
          <%= f.text_field :last_name ,  value: current_user.last_name,required: true, autocomplete: "last_name", class: "form-control", placeholder: "Nom" %>
        </div>
      </div>

      <div class="form-group">
        <%= f.label :birthdate, "Date de naissance" %>
        <%= f.date_field :birthdate ,  value: current_user.birthdate,required: true, class:"form-control" %>
      </div>

      <div class="form-group">
        <%= f.label :weight, "Poids en kg" %>
        <%= f.number_field :weight, value: current_user.weight ,required: true, class:"form-control"%>
      </div>

      <div class="form-group">
          <%= f.label :height, "Taille en cm"%>
          <%= f.number_field :height ,value: current_user.height, required: true, class:"form-control"%>
      </div>
      <div class="text-center"> 
        <div class="form-group">
          <%= f.label :gender, "Sexe" %>
          <%= f.select :gender, [['Homme'],['Femme']] , value: current_user.gender,required: true, class:"form-control"%>
        </div>
  
        <div class="form-group">
          <%= f.label :activity, "Activité physique" %>
          <%= f.select :physical_activity, [['Sedentaire', '1.2'],['Activité physique légère', '1.375'],['Activité physique modérée', '1.55'],['Activité physique intense', '1.725'], ['Activité physique très intense', '1.9']] ,required: true, class:"form-control"%>
        </div>

        <% if current_user.is_premium %>
          <div class="form-group">
            <%= f.label :objective, "Objectif" %>
            <%= f.select :objective, [['Garder la ligne', '1'],['Maigrir', '0.9'],['Grossir', '1.1']] ,required: true, class:"form-control"%>
          </div>        
        <% else %>
          <div class="form-group">
            <%= f.label :objective, "Objectif" %> <span class="badge badge-pill badge-light"><i class="far fa-star mr-2"></i> Premium</span>
            <p>Le paramtérage de vos objectifs est une fonctionnalité disponible uniquement pour les membres Premium</p>
          </div>        
        <% end %>

        <div class="actions mt-5 mb-3">
          <%= submit_tag "Mettre à jour mon profil",class: "btn btn-lg btn-success btn-block px-3" %>
        </div>
        <% end %>
  
        <%= link_to "Modifier votre email et Mot de passe", edit_user_registration_path, class: "text-warning" %>
      </div>
    </div>
  </div>
</div>

